<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Api are callbacks to system functions defined outside of the wasm modules. This is a trait to allow Mocks in the test code."><meta name="keywords" content="rust, rustlang, rust-lang, Api"><title>Api in secret_cosmwasm_std - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../ayu.css" disabled><link rel="stylesheet" type="text/css" href="../dark.css" disabled><link rel="stylesheet" type="text/css" href="../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../storage.js"></script><script defer src="sidebar-items.js"></script><script defer src="../main.js"></script><noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../favicon.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../secret_cosmwasm_std/index.html"><div class="logo-container"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></div></a><h2 class="location"></h2></nav><nav class="sidebar"><a class="sidebar-logo" href="../secret_cosmwasm_std/index.html"><div class="logo-container"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></div></a><h2 class="location"><a href="#">Api</a></h2><div class="sidebar-elems"><section><div class="block"><h3 class="sidebar-title"><a href="#required-methods">Required Methods</a></h3><ul><li><a href="#tymethod.canonical_address">canonical_address</a></li><li><a href="#tymethod.ed25519_batch_verify">ed25519_batch_verify</a></li><li><a href="#tymethod.ed25519_sign">ed25519_sign</a></li><li><a href="#tymethod.ed25519_verify">ed25519_verify</a></li><li><a href="#tymethod.human_address">human_address</a></li><li><a href="#tymethod.secp256k1_recover_pubkey">secp256k1_recover_pubkey</a></li><li><a href="#tymethod.secp256k1_sign">secp256k1_sign</a></li><li><a href="#tymethod.secp256k1_verify">secp256k1_verify</a></li></ul></div><div class="block"><h3 class="sidebar-title"><a href="#implementors">Implementors</a></h3></div></section><h2 class="location"><a href="index.html">In secret_cosmwasm_std</a></h2></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../secret_cosmwasm_std/index.html"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></a><nav class="sub"><form class="search-form"><div class="search-container"><span></span><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><button type="button">?</button></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../wheel.svg"></a></div></div></form></nav></div><section id="main-content" class="content"><div class="main-heading"><h1 class="fqn"><span class="in-band">Trait <a href="index.html">secret_cosmwasm_std</a>::<wbr><a class="trait" href="#">Api</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span></h1><span class="out-of-band"><a class="srclink" href="../src/secret_cosmwasm_std/traits.rs.html#85-197">source</a> · <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span></div><div class="docblock item-decl"><pre class="rust trait"><code>pub trait Api: <a class="trait" href="https://doc.rust-lang.org/1.64.0/core/marker/trait.Copy.html" title="trait core::marker::Copy">Copy</a> + <a class="trait" href="https://doc.rust-lang.org/1.64.0/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a> + <a class="trait" href="https://doc.rust-lang.org/1.64.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> {
    fn <a href="#tymethod.canonical_address" class="fnname">canonical_address</a>(&amp;self, human: &amp;<a class="struct" href="struct.HumanAddr.html" title="struct secret_cosmwasm_std::HumanAddr">HumanAddr</a>) -&gt; <a class="type" href="type.StdResult.html" title="type secret_cosmwasm_std::StdResult">StdResult</a>&lt;<a class="struct" href="struct.CanonicalAddr.html" title="struct secret_cosmwasm_std::CanonicalAddr">CanonicalAddr</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.human_address" class="fnname">human_address</a>(&amp;self, canonical: &amp;<a class="struct" href="struct.CanonicalAddr.html" title="struct secret_cosmwasm_std::CanonicalAddr">CanonicalAddr</a>) -&gt; <a class="type" href="type.StdResult.html" title="type secret_cosmwasm_std::StdResult">StdResult</a>&lt;<a class="struct" href="struct.HumanAddr.html" title="struct secret_cosmwasm_std::HumanAddr">HumanAddr</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.secp256k1_verify" class="fnname">secp256k1_verify</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;self,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;message_hash: &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.64.0/std/primitive.u8.html">u8</a>],<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;signature: &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.64.0/std/primitive.u8.html">u8</a>],<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public_key: &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.64.0/std/primitive.u8.html">u8</a>]<br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.64.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.64.0/std/primitive.bool.html">bool</a>, VerificationError&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.secp256k1_recover_pubkey" class="fnname">secp256k1_recover_pubkey</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;self,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;message_hash: &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.64.0/std/primitive.u8.html">u8</a>],<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;signature: &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.64.0/std/primitive.u8.html">u8</a>],<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;recovery_param: <a class="primitive" href="https://doc.rust-lang.org/1.64.0/std/primitive.u8.html">u8</a><br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.64.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.64.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.64.0/std/primitive.u8.html">u8</a>&gt;, RecoverPubkeyError&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.ed25519_verify" class="fnname">ed25519_verify</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;self,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;message: &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.64.0/std/primitive.u8.html">u8</a>],<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;signature: &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.64.0/std/primitive.u8.html">u8</a>],<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public_key: &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.64.0/std/primitive.u8.html">u8</a>]<br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.64.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.64.0/std/primitive.bool.html">bool</a>, VerificationError&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.ed25519_batch_verify" class="fnname">ed25519_batch_verify</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;self,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;messages: &amp;[&amp;[<a class="primitive" href="https://doc.rust-lang.org/1.64.0/std/primitive.u8.html">u8</a>]],<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;signatures: &amp;[&amp;[<a class="primitive" href="https://doc.rust-lang.org/1.64.0/std/primitive.u8.html">u8</a>]],<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public_keys: &amp;[&amp;[<a class="primitive" href="https://doc.rust-lang.org/1.64.0/std/primitive.u8.html">u8</a>]]<br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.64.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.64.0/std/primitive.bool.html">bool</a>, VerificationError&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.secp256k1_sign" class="fnname">secp256k1_sign</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;self,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;message: &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.64.0/std/primitive.u8.html">u8</a>],<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;private_key: &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.64.0/std/primitive.u8.html">u8</a>]<br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.64.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.64.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.64.0/std/primitive.u8.html">u8</a>&gt;, SigningError&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.ed25519_sign" class="fnname">ed25519_sign</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;self,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;message: &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.64.0/std/primitive.u8.html">u8</a>],<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;private_key: &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.64.0/std/primitive.u8.html">u8</a>]<br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.64.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.64.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.64.0/std/primitive.u8.html">u8</a>&gt;, SigningError&gt;;
}</code></pre></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Api are callbacks to system functions defined outside of the wasm modules.
This is a trait to allow Mocks in the test code.</p>
<p>Currently it just supports address conversion, we could add eg. crypto functions here.
These should all be pure (stateless) functions. If you need state, you probably want
to use the Querier.</p>
<p>We can use feature flags to opt-in to non-essential methods
for backwards compatibility in systems that don’t have them all.</p>
</div></details><h2 id="required-methods" class="small-section-header">Required Methods<a href="#required-methods" class="anchor"></a></h2><div class="methods"><details class="rustdoc-toggle" open><summary><div id="tymethod.canonical_address" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/secret_cosmwasm_std/traits.rs.html#88">source</a></div><h4 class="code-header">fn <a href="#tymethod.canonical_address" class="fnname">canonical_address</a>(&amp;self, human: &amp;<a class="struct" href="struct.HumanAddr.html" title="struct secret_cosmwasm_std::HumanAddr">HumanAddr</a>) -&gt; <a class="type" href="type.StdResult.html" title="type secret_cosmwasm_std::StdResult">StdResult</a>&lt;<a class="struct" href="struct.CanonicalAddr.html" title="struct secret_cosmwasm_std::CanonicalAddr">CanonicalAddr</a>&gt;</h4></div></summary><div class="docblock"><p>Takes a human readable address and returns a canonical binary representation of it.
This can be used when a compact fixed length representation is needed.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.human_address" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/secret_cosmwasm_std/traits.rs.html#94">source</a></div><h4 class="code-header">fn <a href="#tymethod.human_address" class="fnname">human_address</a>(&amp;self, canonical: &amp;<a class="struct" href="struct.CanonicalAddr.html" title="struct secret_cosmwasm_std::CanonicalAddr">CanonicalAddr</a>) -&gt; <a class="type" href="type.StdResult.html" title="type secret_cosmwasm_std::StdResult">StdResult</a>&lt;<a class="struct" href="struct.HumanAddr.html" title="struct secret_cosmwasm_std::HumanAddr">HumanAddr</a>&gt;</h4></div></summary><div class="docblock"><p>Takes a canonical address and returns a human readble address.
This is the inverse of <a href="trait.Api.html#tymethod.canonical_address"><code>canonical_address</code></a>.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.secp256k1_verify" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/secret_cosmwasm_std/traits.rs.html#105-110">source</a></div><h4 class="code-header">fn <a href="#tymethod.secp256k1_verify" class="fnname">secp256k1_verify</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self,<br>&nbsp;&nbsp;&nbsp;&nbsp;message_hash: &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.64.0/std/primitive.u8.html">u8</a>],<br>&nbsp;&nbsp;&nbsp;&nbsp;signature: &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.64.0/std/primitive.u8.html">u8</a>],<br>&nbsp;&nbsp;&nbsp;&nbsp;public_key: &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.64.0/std/primitive.u8.html">u8</a>]<br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.64.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.64.0/std/primitive.bool.html">bool</a>, VerificationError&gt;</h4></div></summary><div class="docblock"><p>ECDSA secp256k1 signature verification.</p>
<p>This function verifies message hashes (hashed unsing SHA-256) against a signature,
with the public key of the signer, using the secp256k1 elliptic curve digital signature
parametrization / algorithm.</p>
<p>The signature and public key are in “Cosmos” format:</p>
<ul>
<li>signature:  Serialized “compact” signature (64 bytes).</li>
<li>public key: <a href="https://www.oreilly.com/library/view/programming-bitcoin/9781492031482/ch04.html">Serialized according to SEC 2</a></li>
</ul>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.secp256k1_recover_pubkey" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/secret_cosmwasm_std/traits.rs.html#123-128">source</a></div><h4 class="code-header">fn <a href="#tymethod.secp256k1_recover_pubkey" class="fnname">secp256k1_recover_pubkey</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self,<br>&nbsp;&nbsp;&nbsp;&nbsp;message_hash: &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.64.0/std/primitive.u8.html">u8</a>],<br>&nbsp;&nbsp;&nbsp;&nbsp;signature: &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.64.0/std/primitive.u8.html">u8</a>],<br>&nbsp;&nbsp;&nbsp;&nbsp;recovery_param: <a class="primitive" href="https://doc.rust-lang.org/1.64.0/std/primitive.u8.html">u8</a><br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.64.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.64.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.64.0/std/primitive.u8.html">u8</a>&gt;, RecoverPubkeyError&gt;</h4></div></summary><div class="docblock"><p>Recovers a public key from a message hash and a signature.</p>
<p>This is required when working with Ethereum where public keys
are not stored on chain directly.</p>
<p><code>recovery_param</code> must be 0 or 1. The values 2 and 3 are unsupported by this implementation,
which is the same restriction as Ethereum has (https://github.com/ethereum/go-ethereum/blob/v1.9.25/internal/ethapi/api.go#L466-L469).
All other values are invalid.</p>
<p>Returns the recovered pubkey in compressed form, which can be used
in secp256k1_verify directly.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.ed25519_verify" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/secret_cosmwasm_std/traits.rs.html#140-145">source</a></div><h4 class="code-header">fn <a href="#tymethod.ed25519_verify" class="fnname">ed25519_verify</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self,<br>&nbsp;&nbsp;&nbsp;&nbsp;message: &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.64.0/std/primitive.u8.html">u8</a>],<br>&nbsp;&nbsp;&nbsp;&nbsp;signature: &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.64.0/std/primitive.u8.html">u8</a>],<br>&nbsp;&nbsp;&nbsp;&nbsp;public_key: &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.64.0/std/primitive.u8.html">u8</a>]<br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.64.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.64.0/std/primitive.bool.html">bool</a>, VerificationError&gt;</h4></div></summary><div class="docblock"><p>EdDSA ed25519 signature verification.</p>
<p>This function verifies messages against a signature, with the public key of the signer,
using the ed25519 elliptic curve digital signature parametrization / algorithm.</p>
<p>The maximum currently supported message length is 4096 bytes.
The signature and public key are in <a href="https://docs.tendermint.com/v0.32/spec/blockchain/encoding.html#public-key-cryptography">Tendermint</a>
format:</p>
<ul>
<li>signature: raw ED25519 signature (64 bytes).</li>
<li>public key: raw ED25519 public key (32 bytes).</li>
</ul>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.ed25519_batch_verify" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/secret_cosmwasm_std/traits.rs.html#175-180">source</a></div><h4 class="code-header">fn <a href="#tymethod.ed25519_batch_verify" class="fnname">ed25519_batch_verify</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self,<br>&nbsp;&nbsp;&nbsp;&nbsp;messages: &amp;[&amp;[<a class="primitive" href="https://doc.rust-lang.org/1.64.0/std/primitive.u8.html">u8</a>]],<br>&nbsp;&nbsp;&nbsp;&nbsp;signatures: &amp;[&amp;[<a class="primitive" href="https://doc.rust-lang.org/1.64.0/std/primitive.u8.html">u8</a>]],<br>&nbsp;&nbsp;&nbsp;&nbsp;public_keys: &amp;[&amp;[<a class="primitive" href="https://doc.rust-lang.org/1.64.0/std/primitive.u8.html">u8</a>]]<br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.64.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.64.0/std/primitive.bool.html">bool</a>, VerificationError&gt;</h4></div></summary><div class="docblock"><p>Performs batch Ed25519 signature verification.</p>
<p>Batch verification asks whether all signatures in some set are valid, rather than asking whether
each of them is valid. This allows sharing computations among all signature verifications,
performing less work overall, at the cost of higher latency (the entire batch must complete),
complexity of caller code (which must assemble a batch of signatures across work-items),
and loss of the ability to easily pinpoint failing signatures.</p>
<p>This batch verification implementation is adaptive, in the sense that it detects multiple
signatures created with the same verification key, and automatically coalesces terms
in the final verification equation.</p>
<p>In the limiting case where all signatures in the batch are made with the same verification key,
coalesced batch verification runs twice as fast as ordinary batch verification.</p>
<p>Three Variants are suppported in the input for convenience:</p>
<ul>
<li>Equal number of messages, signatures, and public keys: Standard, generic functionality.</li>
<li>One message, and an equal number of signatures and public keys: Multiple digital signature
(multisig) verification of a single message.</li>
<li>One public key, and an equal number of messages and signatures: Verification of multiple
messages, all signed with the same private key.</li>
</ul>
<p>Any other variants of input vectors result in an error.</p>
<p>Notes:</p>
<ul>
<li>The “one-message, with zero signatures and zero public keys” case, is considered the empty case.</li>
<li>The “one-public key, with zero messages and zero signatures” case, is considered the empty case.</li>
<li>The empty case (no messages, no signatures and no public keys) returns true.</li>
</ul>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.secp256k1_sign" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/secret_cosmwasm_std/traits.rs.html#188">source</a></div><h4 class="code-header">fn <a href="#tymethod.secp256k1_sign" class="fnname">secp256k1_sign</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self,<br>&nbsp;&nbsp;&nbsp;&nbsp;message: &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.64.0/std/primitive.u8.html">u8</a>],<br>&nbsp;&nbsp;&nbsp;&nbsp;private_key: &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.64.0/std/primitive.u8.html">u8</a>]<br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.64.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.64.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.64.0/std/primitive.u8.html">u8</a>&gt;, SigningError&gt;</h4></div></summary><div class="docblock"><p>ECDSA secp256k1 signing.</p>
<p>This function signs a message with a private key using the secp256k1 elliptic curve digital signature parametrization / algorithm.</p>
<ul>
<li>message: Arbitrary message.</li>
<li>private key: Raw secp256k1 private key (32 bytes)</li>
</ul>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.ed25519_sign" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/secret_cosmwasm_std/traits.rs.html#196">source</a></div><h4 class="code-header">fn <a href="#tymethod.ed25519_sign" class="fnname">ed25519_sign</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self,<br>&nbsp;&nbsp;&nbsp;&nbsp;message: &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.64.0/std/primitive.u8.html">u8</a>],<br>&nbsp;&nbsp;&nbsp;&nbsp;private_key: &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.64.0/std/primitive.u8.html">u8</a>]<br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.64.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.64.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.64.0/std/primitive.u8.html">u8</a>&gt;, SigningError&gt;</h4></div></summary><div class="docblock"><p>EdDSA Ed25519 signing.</p>
<p>This function signs a message with a private key using the ed25519 elliptic curve digital signature parametrization / algorithm.</p>
<ul>
<li>message: Arbitrary message.</li>
<li>private key: Raw ED25519 private key (32 bytes)</li>
</ul>
</div></details></div><h2 id="implementors" class="small-section-header">Implementors<a href="#implementors" class="anchor"></a></h2><div class="item-list" id="implementors-list"><section id="impl-Api-for-MockApi" class="impl has-srclink"><span class="rightside"><a class="srclink" href="../src/secret_cosmwasm_std/mock.rs.html#75-163">source</a></span><a href="#impl-Api-for-MockApi" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="trait.Api.html" title="trait secret_cosmwasm_std::Api">Api</a> for <a class="struct" href="testing/struct.MockApi.html" title="struct secret_cosmwasm_std::testing::MockApi">MockApi</a></h3></section></div><script type="text/javascript" src="../implementors/secret_cosmwasm_std/traits/trait.Api.js" data-ignore-extern-crates="" async></script></section></div></main><div id="rustdoc-vars" data-root-path="../" data-current-crate="secret_cosmwasm_std" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.64.0 (a55dd71d5 2022-09-19)" ></div></body></html>